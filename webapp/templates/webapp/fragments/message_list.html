{% for message in messages %}
<a href="{% url 'app_webapp:conversation_detail' message.contact.id %}" class="block hover:bg-gray-50">
    <div class="px-6 py-4">
        <div class="flex justify-between">
            <div class="flex-1 min-w-0 pr-4">
                <div class="flex items-center justify-between mb-1.5">
                    <div class="flex items-center space-x-2">
                        <h3 class="text-lg font-medium text-gray-900">{{ message.contact.phone_number }}</h3>
                        {% if message.contact.full_name %}
                            <span class="text-sm text-gray-500">({{ message.contact.full_name }})</span>
                        {% endif %}
                    </div>
                    <p class="text-base text-gray-500">
                        {{ message.created_at|timesince }} ago
                    </p>
                </div>
                <p class="text-base text-gray-600 truncate">
                    {{ message.message|truncatewords:20 }}
                </p>
            </div>
        </div>
    </div>
</a>
{% empty %}
    <div class="px-6 py-8 text-center">
        <p class="text-gray-500">No messages found</p>
    </div>
{% endfor %}
